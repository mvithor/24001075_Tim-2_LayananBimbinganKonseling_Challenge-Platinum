"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[9189],{89189:(e,a,s)=>{s.r(a),s.d(a,{default:()=>I});var n=s(65043),t=s(33211),i=s(14194),r=s(96446),l=s(15795),d=s(26227),c=s(41503),h=s(85865),o=s(29347),x=s(11906),j=s(73216),A=s(42231),m=s(29101),u=s(55922),g=s(70579);const p=[{to:"/dashboard",title:"Dashboard"},{title:"Data Siswa"}],k=()=>(0,g.jsx)(u.A,{title:"Data Siswa",items:p});var S=s(63336),f=s(79650),w=s(71806),C=s(84882),v=s(28076),P=s(10039),b=s(73460),y=s(77739),z=s(17392),D=s(207),T=s(89735),_=s(14536),E=s(59156);const L=e=>{let{students:a,page:s,rowsPerPage:n,handleChangePage:t,handleChangeRowsPerPage:i,handleEdit:l,handleDelete:d}=e;const c=s>0?Math.max(0,(1+s)*n-a.length):0;return(0,g.jsx)(S.A,{variant:"outlined",children:(0,g.jsx)(f.A,{children:(0,g.jsxs)(w.A,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[(0,g.jsx)(C.A,{children:(0,g.jsxs)(v.A,{children:[(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{variant:"h6",sx:{fontSize:"1rem"},children:"No"})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Nama"})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Tanggal Lahir"})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Jenis Kelamin"})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Kelas"})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Alamat"})}),(0,g.jsx)(P.A,{align:"center",children:(0,g.jsx)(h.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Aksi"})})]})}),(0,g.jsxs)(b.A,{children:[(n>0?a.slice(s*n,s*n+n):a).map(((e,a)=>{return(0,g.jsxs)(v.A,{children:[(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{sx:{fontSize:"1rem"},children:s*n+a+1})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{sx:{fontSize:"1rem"},children:e.name})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{sx:{fontSize:"1rem"},children:e.tanggal_lahir})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{sx:{fontSize:"1rem"},children:(t=e.jenis_kelamin_id,1===t?"Laki-Laki":2===t?"Perempuan":"Tidak Diketahui")})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{sx:{fontSize:"1rem"},children:e.kelas_nama})}),(0,g.jsx)(P.A,{children:(0,g.jsx)(h.A,{sx:{fontSize:"1rem"},children:e.alamat})}),(0,g.jsx)(P.A,{children:(0,g.jsxs)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:[(0,g.jsx)(y.A,{title:"Edit",placement:"bottom",children:(0,g.jsx)(z.A,{onClick:()=>l(e.id),children:(0,g.jsx)(_.r9C,{width:20})})}),(0,g.jsx)(y.A,{title:"Hapus",placement:"bottom",children:(0,g.jsx)(z.A,{onClick:()=>d(e.id),children:(0,g.jsx)(_.Eau,{width:20})})})]})})]},e.id);var t})),c>0&&(0,g.jsx)(v.A,{style:{height:53*c},children:(0,g.jsx)(P.A,{colSpan:7})})]}),(0,g.jsx)(D.A,{children:(0,g.jsx)(v.A,{children:(0,g.jsx)(T.A,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:7,count:a.length,rowsPerPage:n,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:t,onRowsPerPageChange:i,ActionsComponent:E.A})})})]})})})},I=()=>{const[e,a]=(0,n.useState)(0),[s,u]=(0,n.useState)(5),[p,S]=(0,n.useState)([]),[f,w]=(0,n.useState)([]),[C,v]=(0,n.useState)(""),[P,b]=(0,n.useState)(""),[y,z]=(0,n.useState)(null),[D,T]=(0,n.useState)(!1),_=(0,j.Zp)();(0,n.useEffect)((()=>{(async()=>{try{const e=await t.A.get("/students");S(e.data)}catch(P){console.error("Terjadi kesalahan:",P.message),b("Terjadi kesalahan saat memuat data")}})(),(async()=>{try{const e=await t.A.get("/kelas/nama-kelas");w(e.data)}catch(P){console.error("Error fetching classes:",P),b("Terjadi kesalahan saat memuat data kelas")}})()}),[]);const E=()=>{T(!1)},I=p.map((e=>{const a=f.find((a=>a.id===e.kelas_id));return{...e,kelas_nama:a?a.nama_kelas:"Tidak Diketahui"}})).filter((e=>e.name.toLowerCase().includes(C.toLowerCase()))).sort(((e,a)=>e.name.localeCompare(a.name))),R=e=>{let{message:a}=e;return(0,g.jsx)(i.A,{severity:"error",children:a})};return(0,g.jsxs)(A.A,{title:"Data Siswa",description:"Data Siswa",children:[(0,g.jsx)(k,{}),(0,g.jsx)(r.A,{justifyContent:"center",mb:5,children:P&&(0,g.jsx)(R,{message:P})}),(0,g.jsxs)(m.A,{title:"Data Siswa",children:[(0,g.jsx)(r.A,{sx:{display:"flex",alignItems:"center",mb:2},children:(0,g.jsx)(l.A,{label:"Search",variant:"outlined",value:C,onChange:e=>{v(e.target.value)},InputProps:{sx:{padding:"4px"}}})}),(0,g.jsx)(L,{students:I,page:e,rowsPerPage:s,handleChangePage:a,handleChangeRowsPerPage:u,handleEdit:e=>{_("/dashboard/admin/siswa/edit/".concat(e))},handleDelete:e=>{z(e),T(!0)}})]}),(0,g.jsxs)(d.A,{open:D,onClose:E,maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(c.A,{children:(0,g.jsx)(h.A,{variant:"h5",align:"center",sx:{mt:2,mb:2},children:"Apakah Anda yakin ingin menghapus data siswa?"})}),(0,g.jsxs)(o.A,{sx:{justifyContent:"center",mb:2},children:[(0,g.jsx)(x.A,{sx:{mr:3},variant:"outlined",color:"secondary",onClick:E,children:"Batal"}),(0,g.jsx)(x.A,{sx:{mr:3,backgroundColor:"#F48C06","&:hover":{backgroundColor:"#f7a944"}},variant:"contained",onClick:()=>(async e=>{try{await t.A.delete("/students/".concat(e)),S(p.filter((a=>a.id!==e))),T(!1)}catch(P){console.error("Terjadi kesalahan saat menghapus data siswa:",P.message),b("Terjadi kesalahan saat menghapus data siswa")}})(y),children:"Hapus"})]})]})]})}}}]);
//# sourceMappingURL=9189.dd38af61.chunk.js.map