"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[8630],{59156:(e,a,s)=>{s.d(a,{A:()=>h});s(65043);var t=s(96446),n=s(17392),i=s(26240),r=s(18731),l=s(85673),d=s(53968),c=s(28951),o=s(70579);const h=e=>{let{count:a,page:s,rowsPerPage:h,onPageChange:x}=e;const j=(0,i.A)();return(0,o.jsxs)(t.A,{sx:{flexShrink:0,ml:2.5},children:[(0,o.jsx)(n.A,{onClick:e=>{x(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===j.direction?(0,o.jsx)(c.A,{}):(0,o.jsx)(r.A,{})}),(0,o.jsx)(n.A,{onClick:e=>{x(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===j.direction?(0,o.jsx)(d.A,{}):(0,o.jsx)(l.A,{})}),(0,o.jsx)(n.A,{onClick:e=>{x(e,s+1)},disabled:s>=Math.ceil(a/h)-1,"aria-label":"next page",children:"rtl"===j.direction?(0,o.jsx)(l.A,{}):(0,o.jsx)(d.A,{})}),(0,o.jsx)(n.A,{onClick:e=>{x(e,Math.max(0,Math.ceil(a/h)-1))},disabled:s>=Math.ceil(a/h)-1,"aria-label":"last page",children:"rtl"===j.direction?(0,o.jsx)(r.A,{}):(0,o.jsx)(c.A,{})})]})}},42231:(e,a,s)=>{s.d(a,{A:()=>i});s(65043);var t=s(41591),n=s(70579);const i=e=>{let{title:a,description:s,children:i}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)(t.m,{children:[(0,n.jsx)("title",{children:a}),(0,n.jsx)("meta",{name:"description",content:s})]}),i]})}},29101:(e,a,s)=>{s.d(a,{A:()=>o});s(65043);var t=s(12110),n=s(79958),i=s(39336),r=s(26494),l=s(96446),d=s(79456),c=s(70579);const o=e=>{let{title:a,children:s,footer:o}=e;const h=(0,d.d4)((e=>e.customizer));return(0,c.jsxs)(t.A,{sx:{padding:0},elevation:h.isCardShadow?9:0,variant:h.isCardShadow?void 0:"outlined",children:[(0,c.jsx)(n.A,{title:a}),(0,c.jsx)(i.A,{}),(0,c.jsx)(r.A,{children:s}),o?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.A,{}),(0,c.jsx)(l.A,{p:3,children:o})]}):""]})}},55922:(e,a,s)=>{s.d(a,{A:()=>x});s(65043);var t=s(68903),n=s(85865),i=s(22698),r=s(88446),l=s(96446),d=s(35475);const c=s.p+"static/media/ChatBc.a9e64b961d26acf719b8.png";var o=s(14536),h=s(70579);const x=e=>{let{subtitle:a,items:s,title:x,children:j}=e;return(0,h.jsxs)(t.Ay,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,h.jsxs)(t.Ay,{item:!0,xs:12,sm:6,lg:8,mb:1,children:[(0,h.jsx)(n.A,{variant:"h4",children:x}),(0,h.jsx)(n.A,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:a}),(0,h.jsx)(i.A,{separator:(0,h.jsx)(o.ABt,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:s?"10px":""},"aria-label":"breadcrumb",children:s?s.map((e=>(0,h.jsx)("div",{children:e.to?(0,h.jsx)(r.A,{underline:"none",color:"inherit",component:d.k2,to:e.to,children:e.title}):(0,h.jsx)(n.A,{color:"textPrimary",children:e.title})},e.title))):""})]}),(0,h.jsx)(t.Ay,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,h.jsx)(l.A,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:j?(0,h.jsx)(l.A,{sx:{top:"0px",position:"absolute"},children:j}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.A,{sx:{top:"0px",position:"absolute"},children:(0,h.jsx)("img",{src:c,alt:c,width:"165px"})})})})})]})}},33211:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(40854);const n=s.n(t)().create({baseURL:"http://localhost:4000",timeout:1e4});n.interceptors.request.use((e=>{const a=localStorage.getItem("accessToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(localStorage.removeItem("accessToken"),window.location.href="/auth/login"),Promise.reject(e))));const i=n},89189:(e,a,s)=>{s.r(a),s.d(a,{default:()=>L});var t=s(65043),n=s(33211),i=s(14194),r=s(96446),l=s(15795),d=s(26227),c=s(41503),o=s(85865),h=s(29347),x=s(11906),j=s(73216),A=s(42231),m=s(29101),p=s(55922),g=s(70579);const u=[{to:"/dashboard",title:"Dashboard"},{title:"Data Siswa"}],f=()=>(0,g.jsx)(p.A,{title:"Data Siswa",items:u});var k=s(63336),b=s(79650),v=s(71806),S=s(84882),w=s(28076),C=s(10039),y=s(73460),P=s(77739),z=s(17392),D=s(207),T=s(89735),I=s(14536),_=s(59156);const E=e=>{let{students:a,page:s,rowsPerPage:t,handleChangePage:n,handleChangeRowsPerPage:i,handleEdit:l,handleDelete:d}=e;const c=s>0?Math.max(0,(1+s)*t-a.length):0;return(0,g.jsx)(k.A,{variant:"outlined",children:(0,g.jsx)(b.A,{children:(0,g.jsxs)(v.A,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[(0,g.jsx)(S.A,{children:(0,g.jsxs)(w.A,{children:[(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{variant:"h6",sx:{fontSize:"1rem"},children:"No"})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Nama"})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Tanggal Lahir"})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Jenis Kelamin"})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Kelas"})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Alamat"})}),(0,g.jsx)(C.A,{align:"center",children:(0,g.jsx)(o.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Aksi"})})]})}),(0,g.jsxs)(y.A,{children:[(t>0?a.slice(s*t,s*t+t):a).map(((e,a)=>{return(0,g.jsxs)(w.A,{children:[(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{sx:{fontSize:"1rem"},children:s*t+a+1})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{sx:{fontSize:"1rem"},children:e.name})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{sx:{fontSize:"1rem"},children:e.tanggal_lahir})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{sx:{fontSize:"1rem"},children:(n=e.jenis_kelamin_id,1===n?"Laki-Laki":2===n?"Perempuan":"Tidak Diketahui")})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{sx:{fontSize:"1rem"},children:e.kelas_nama})}),(0,g.jsx)(C.A,{children:(0,g.jsx)(o.A,{sx:{fontSize:"1rem"},children:e.alamat})}),(0,g.jsx)(C.A,{children:(0,g.jsxs)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:[(0,g.jsx)(P.A,{title:"Edit",placement:"bottom",children:(0,g.jsx)(z.A,{onClick:()=>l(e.id),children:(0,g.jsx)(I.r9C,{width:20})})}),(0,g.jsx)(P.A,{title:"Hapus",placement:"bottom",children:(0,g.jsx)(z.A,{onClick:()=>d(e.id),children:(0,g.jsx)(I.Eau,{width:20})})})]})})]},e.id);var n})),c>0&&(0,g.jsx)(w.A,{style:{height:53*c},children:(0,g.jsx)(C.A,{colSpan:7})})]}),(0,g.jsx)(D.A,{children:(0,g.jsx)(w.A,{children:(0,g.jsx)(T.A,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:7,count:a.length,rowsPerPage:t,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:n,onRowsPerPageChange:i,ActionsComponent:_.A})})})]})})})},L=()=>{const[e,a]=(0,t.useState)(0),[s,p]=(0,t.useState)(5),[u,k]=(0,t.useState)([]),[b,v]=(0,t.useState)([]),[S,w]=(0,t.useState)(""),[C,y]=(0,t.useState)(""),[P,z]=(0,t.useState)(null),[D,T]=(0,t.useState)(!1),I=(0,j.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=await n.A.get("/students");k(e.data)}catch(C){console.error("Terjadi kesalahan:",C.message),y("Terjadi kesalahan saat memuat data")}})(),(async()=>{try{const e=await n.A.get("/kelas/nama-kelas");v(e.data)}catch(C){console.error("Error fetching classes:",C),y("Terjadi kesalahan saat memuat data kelas")}})()}),[]);const _=()=>{T(!1)},L=u.map((e=>{const a=b.find((a=>a.id===e.kelas_id));return{...e,kelas_nama:a?a.nama_kelas:"Tidak Diketahui"}})).filter((e=>e.name.toLowerCase().includes(S.toLowerCase()))).sort(((e,a)=>e.name.localeCompare(a.name))),R=e=>{let{message:a}=e;return(0,g.jsx)(i.A,{severity:"error",children:a})};return(0,g.jsxs)(A.A,{title:"Data Siswa",description:"Data Siswa",children:[(0,g.jsx)(f,{}),(0,g.jsx)(r.A,{justifyContent:"center",mb:5,children:C&&(0,g.jsx)(R,{message:C})}),(0,g.jsxs)(m.A,{title:"Data Siswa",children:[(0,g.jsx)(r.A,{sx:{display:"flex",alignItems:"center",mb:2},children:(0,g.jsx)(l.A,{label:"Search",variant:"outlined",value:S,onChange:e=>{w(e.target.value)},InputProps:{sx:{padding:"4px"}}})}),(0,g.jsx)(E,{students:L,page:e,rowsPerPage:s,handleChangePage:a,handleChangeRowsPerPage:p,handleEdit:e=>{I("/dashboard/admin/siswa/edit/".concat(e))},handleDelete:e=>{z(e),T(!0)}})]}),(0,g.jsxs)(d.A,{open:D,onClose:_,maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(c.A,{children:(0,g.jsx)(o.A,{variant:"h5",align:"center",sx:{mt:2,mb:2},children:"Apakah Anda yakin ingin menghapus data siswa?"})}),(0,g.jsxs)(h.A,{sx:{justifyContent:"center",mb:2},children:[(0,g.jsx)(x.A,{sx:{mr:3},variant:"outlined",color:"secondary",onClick:_,children:"Batal"}),(0,g.jsx)(x.A,{sx:{mr:3,backgroundColor:"#F48C06","&:hover":{backgroundColor:"#f7a944"}},variant:"contained",onClick:()=>(async e=>{try{await n.A.delete("/students/".concat(e)),k(u.filter((a=>a.id!==e))),T(!1)}catch(C){console.error("Terjadi kesalahan saat menghapus data siswa:",C.message),y("Terjadi kesalahan saat menghapus data siswa")}})(P),children:"Hapus"})]})]})]})}}}]);
//# sourceMappingURL=8630.56338835.chunk.js.map