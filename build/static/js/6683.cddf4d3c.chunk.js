"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[6683],{42231:(e,a,t)=>{t.d(a,{A:()=>i});t(65043);var n=t(41591),s=t(70579);const i=e=>{let{title:a,description:t,children:i}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.m,{children:[(0,s.jsx)("title",{children:a}),(0,s.jsx)("meta",{name:"description",content:t})]}),i]})}},12038:(e,a,t)=>{t.d(a,{A:()=>r});t(65043);var n=t(34535),s=t(85865),i=t(70579);const r=(0,n.Ay)((e=>(0,i.jsx)(s.A,{variant:"subtitle1",fontWeight:600,...e,component:"label",htmlFor:e.htmlFor})))((()=>({marginBottom:"5px",marginTop:"25px",display:"block"})))},1024:(e,a,t)=>{t.d(a,{A:()=>r});t(65043);var n=t(34535),s=t(69859),i=t(70579);const r=(0,n.Ay)((e=>(0,i.jsx)(s.A,{...e})))((e=>{let{theme:a}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:a.palette.text.secondary,opacity:"0.8"},"& .MuiTypography-root":{color:a.palette.text.secondary},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:a.palette.text.secondary,opacity:"1"}}}))},35292:(e,a,t)=>{t.d(a,{A:()=>r});t(65043);var n=t(34535),s=t(69285),i=t(70579);const r=(0,n.Ay)((e=>(0,i.jsx)(s.A,{...e})))((e=>{let{theme:a}=e;return{}}))},29101:(e,a,t)=>{t.d(a,{A:()=>c});t(65043);var n=t(12110),s=t(79958),i=t(39336),r=t(26494),l=t(96446),o=t(79456),d=t(70579);const c=e=>{let{title:a,children:t,footer:c}=e;const h=(0,o.d4)((e=>e.customizer));return(0,d.jsxs)(n.A,{sx:{padding:0},elevation:h.isCardShadow?9:0,variant:h.isCardShadow?void 0:"outlined",children:[(0,d.jsx)(s.A,{title:a}),(0,d.jsx)(i.A,{}),(0,d.jsx)(r.A,{children:t}),c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.A,{}),(0,d.jsx)(l.A,{p:3,children:c})]}):""]})}},55922:(e,a,t)=>{t.d(a,{A:()=>m});t(65043);var n=t(68903),s=t(85865),i=t(22698),r=t(88446),l=t(96446),o=t(35475);const d=t.p+"static/media/ChatBc.a9e64b961d26acf719b8.png";var c=t(14536),h=t(70579);const m=e=>{let{subtitle:a,items:t,title:m,children:x}=e;return(0,h.jsxs)(n.Ay,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,h.jsxs)(n.Ay,{item:!0,xs:12,sm:6,lg:8,mb:1,children:[(0,h.jsx)(s.A,{variant:"h4",children:m}),(0,h.jsx)(s.A,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:a}),(0,h.jsx)(i.A,{separator:(0,h.jsx)(c.ABt,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:t?"10px":""},"aria-label":"breadcrumb",children:t?t.map((e=>(0,h.jsx)("div",{children:e.to?(0,h.jsx)(r.A,{underline:"none",color:"inherit",component:o.k2,to:e.to,children:e.title}):(0,h.jsx)(s.A,{color:"textPrimary",children:e.title})},e.title))):""})]}),(0,h.jsx)(n.Ay,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,h.jsx)(l.A,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:x?(0,h.jsx)(l.A,{sx:{top:"0px",position:"absolute"},children:x}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.A,{sx:{top:"0px",position:"absolute"},children:(0,h.jsx)("img",{src:d,alt:d,width:"165px"})})})})})]})}},33211:(e,a,t)=>{t.d(a,{A:()=>i});var n=t(40854);const s=t.n(n)().create({baseURL:"http://localhost:4000",timeout:1e4});s.interceptors.request.use((e=>{const a=localStorage.getItem("accessToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(localStorage.removeItem("accessToken"),window.location.href="/auth/login"),Promise.reject(e))));const i=s},84600:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var n=t(65043),s=t(73216),i=t(96446),r=t(14194),l=t(33211),o=t(42231),d=t(29101),c=t(55922),h=t(70579);const m=[{to:"/dashboard",title:"Dashboard"},{title:"Form Edit Siswa"}],x=()=>(0,h.jsx)(c.A,{title:"Form Edit Siswa",items:m});var u=t(68903),p=t(32143),j=t(11906),g=t(12038),A=t(14536),v=t(15795),b=t(51690),y=t(9546),k=t(10688);const f=e=>{let{id:a,name:t,value:n,onChange:s}=e;return(0,h.jsxs)(u.Ay,{item:!0,xs:12,children:[(0,h.jsx)(i.A,{display:"flex",alignItems:"center",children:(0,h.jsx)(g.A,{htmlFor:a,sx:{mt:0,mb:1},children:"Tanggal Lahir"})}),(0,h.jsx)(b.$,{dateAdapter:k.h,children:(0,h.jsx)(y.l,{renderInput:e=>(0,h.jsx)(v.A,{...e,id:a,name:t,size:"medium",sx:{"& .MuiSvgIcon-root":{width:18,height:18},"& .MuiFormHelperText-root":{display:"none"},"& .MuiInputBase-input::placeholder":{color:"gray"}},fullWidth:!0}),value:n,onChange:s})})]})};var C=t(51787),_=t(1024);const w=e=>{let{label:a,id:t,name:n,value:s,onChange:r,icon:l}=e;return(0,h.jsxs)(u.Ay,{item:!0,xs:12,children:[(0,h.jsx)(i.A,{display:"flex",alignItems:"center",children:(0,h.jsx)(g.A,{htmlFor:t,sx:{mt:0,mb:1},children:a})}),(0,h.jsx)(_.A,{startAdornment:(0,h.jsx)(C.A,{position:"start",children:l}),id:t,name:n,value:s,onChange:r,fullWidth:!0})]})};var S=t(53193),F=t(18356),I=t(69285);const z=e=>{let{id:a,name:t,value:n,onChange:s}=e;return(0,h.jsxs)(u.Ay,{item:!0,xs:12,children:[(0,h.jsx)(i.A,{display:"flex",alignItems:"center",children:(0,h.jsx)(g.A,{htmlFor:a,sx:{mt:0,mb:1},children:"Jenis Kelamin"})}),(0,h.jsxs)(S.A,{fullWidth:!0,children:[(0,h.jsx)(F.A,{id:"".concat(a,"_label"),children:"Jenis Kelamin"}),(0,h.jsxs)(I.A,{labelId:"".concat(a,"_label"),id:a,name:t,value:n,onChange:s,startAdornment:(0,h.jsx)(C.A,{position:"start",children:(0,h.jsx)(A.aOz,{size:"20"})}),label:"Jenis Kelamin",children:[(0,h.jsx)(p.A,{value:1,children:"Laki-Laki"}),(0,h.jsx)(p.A,{value:2,children:"Perempuan"})]})]})]})};var T=t(35292);const B=e=>{let{student:a,handleChange:t,handleDateChange:s,handleSubmit:o,handleCancel:d}=e;const[c,m]=(0,n.useState)([]),[x,v]=(0,n.useState)("");if((0,n.useEffect)((()=>{(async()=>{try{const e=await l.A.get("/kelas");m(e.data)}catch(e){console.error("Error fetching kelas options:",e)}})()}),[]),!a)return null;const b={name:"",jenis_kelamin_id:"",tanggal_lahir:"",kelas_id:"",alamat:"",...a},y=c.some((e=>e.id===b.kelas_id))?b.kelas_id:"";return(0,h.jsx)("form",{onSubmit:e=>{e.preventDefault(),b.name&&b.jenis_kelamin_id&&b.tanggal_lahir&&y&&b.alamat?(v(""),o(e)):v("Semua form harus diisi.")},children:(0,h.jsx)(i.A,{sx:{p:3,bgcolor:"background.paper",boxShadow:2},children:(0,h.jsxs)(u.Ay,{container:!0,spacing:3,children:[x&&(0,h.jsx)(u.Ay,{item:!0,xs:12,children:(0,h.jsx)(r.A,{severity:"error",children:x})}),(0,h.jsx)(w,{label:"Nama Siswa",id:"name",name:"name",value:b.name||"",onChange:t,icon:(0,h.jsx)(A.vg7,{size:"20"}),required:!0}),(0,h.jsx)(z,{id:"jenis_kelamin_id",name:"jenis_kelamin_id",value:b.jenis_kelamin_id||"",onChange:t,required:!0}),(0,h.jsx)(f,{id:"tanggal_lahir",name:"tanggal_lahir",value:b.tanggal_lahir||"",onChange:s,required:!0}),(0,h.jsxs)(u.Ay,{item:!0,xs:12,children:[(0,h.jsx)(g.A,{htmlFor:"kelas_id",children:"Pilih Kelas"}),(0,h.jsxs)(T.A,{id:"kelas_id",name:"kelas_id",value:y,onChange:t,fullWidth:!0,variant:"outlined",startAdornment:(0,h.jsx)(A.oHj,{size:"20"}),required:!0,children:[(0,h.jsx)(p.A,{value:"",children:(0,h.jsx)("em",{children:"Pilih Kelas"})}),c.map((e=>(0,h.jsx)(p.A,{value:e.id,children:e.nama_kelas},e.id)))]})]}),(0,h.jsx)(w,{label:"Alamat",id:"alamat",name:"alamat",value:b.alamat||"",onChange:t,icon:(0,h.jsx)(A.apC,{size:"20"}),required:!0}),(0,h.jsx)(u.Ay,{item:!0,xs:12,children:(0,h.jsxs)(i.A,{sx:{display:"flex",justifyContent:"flex-start",pt:3},children:[(0,h.jsx)(j.A,{sx:{mr:2,backgroundColor:"#F48C06","&:hover":{backgroundColor:"#f7a944"}},variant:"contained",type:"submit",children:"Edit"}),(0,h.jsx)(j.A,{sx:{backgroundColor:"#2F327D","&:hover":{backgroundColor:"#63659e"}},variant:"contained",color:"secondary",type:"button",onClick:d,children:"Batal"})]})})]})})})},D=()=>{const{id:e}=(0,s.g)(),[a,t]=(0,n.useState)({name:"",jenis_kelamin_id:"",tanggal_lahir:null,kelas_id:"",alamat:""}),[c,m]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),j=(0,s.Zp)();(0,n.useEffect)((()=>{(async e=>{try{const a=await l.A.get("/students/".concat(e));t(a.data)}catch(c){c.response&&c.response.data&&c.response.data.msg?(console.log(c.response.data),m(c.response.data.msg)):(console.error("Terjadi kesalahan pada server:",c.message),m("Terjadi kesalahan pada server"))}})(e)}),[e]);return(0,h.jsxs)(o.A,{children:[(0,h.jsx)(x,{}),(0,h.jsxs)(i.A,{justifyContent:"center",mb:3,children:[c&&(0,h.jsx)(r.A,{severity:"error",children:c}),u&&(0,h.jsx)(r.A,{severity:"success",children:u})]}),(0,h.jsx)(d.A,{title:"Form Edit Siswa",children:(0,h.jsx)(B,{student:a,handleChange:e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))},handleDateChange:e=>{t((a=>({...a,tanggal_lahir:e})))},handleSubmit:async t=>{t.preventDefault();try{await l.A.put("/students/".concat(e),a),p("Data Siswa Berhasil di Perbarui"),setTimeout((()=>{j("/dashboard/admin/siswa")}),3e3)}catch(c){c.response&&c.response.data&&c.response.data.msg?(console.log(c.response.data),m(c.response.data.msg)):(console.error("Terjadi kesalahan:",c.message),m("Terjadi kesalahan saat memuat data"))}},handleCancel:()=>{j(-1)},error:c,success:u})})]})}}}]);
//# sourceMappingURL=6683.cddf4d3c.chunk.js.map