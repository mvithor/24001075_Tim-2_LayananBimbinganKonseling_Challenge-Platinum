"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[1318],{59156:(e,a,s)=>{s.d(a,{A:()=>h});s(65043);var t=s(96446),n=s(17392),i=s(26240),r=s(18731),l=s(85673),o=s(53968),d=s(28951),c=s(70579);const h=e=>{let{count:a,page:s,rowsPerPage:h,onPageChange:x}=e;const j=(0,i.A)();return(0,c.jsxs)(t.A,{sx:{flexShrink:0,ml:2.5},children:[(0,c.jsx)(n.A,{onClick:e=>{x(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===j.direction?(0,c.jsx)(d.A,{}):(0,c.jsx)(r.A,{})}),(0,c.jsx)(n.A,{onClick:e=>{x(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===j.direction?(0,c.jsx)(o.A,{}):(0,c.jsx)(l.A,{})}),(0,c.jsx)(n.A,{onClick:e=>{x(e,s+1)},disabled:s>=Math.ceil(a/h)-1,"aria-label":"next page",children:"rtl"===j.direction?(0,c.jsx)(l.A,{}):(0,c.jsx)(o.A,{})}),(0,c.jsx)(n.A,{onClick:e=>{x(e,Math.max(0,Math.ceil(a/h)-1))},disabled:s>=Math.ceil(a/h)-1,"aria-label":"last page",children:"rtl"===j.direction?(0,c.jsx)(r.A,{}):(0,c.jsx)(d.A,{})})]})}},42231:(e,a,s)=>{s.d(a,{A:()=>i});s(65043);var t=s(41591),n=s(70579);const i=e=>{let{title:a,description:s,children:i}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)(t.m,{children:[(0,n.jsx)("title",{children:a}),(0,n.jsx)("meta",{name:"description",content:s})]}),i]})}},29101:(e,a,s)=>{s.d(a,{A:()=>c});s(65043);var t=s(12110),n=s(79958),i=s(39336),r=s(26494),l=s(96446),o=s(79456),d=s(70579);const c=e=>{let{title:a,children:s,footer:c}=e;const h=(0,o.d4)((e=>e.customizer));return(0,d.jsxs)(t.A,{sx:{padding:0},elevation:h.isCardShadow?9:0,variant:h.isCardShadow?void 0:"outlined",children:[(0,d.jsx)(n.A,{title:a}),(0,d.jsx)(i.A,{}),(0,d.jsx)(r.A,{children:s}),c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.A,{}),(0,d.jsx)(l.A,{p:3,children:c})]}):""]})}},55922:(e,a,s)=>{s.d(a,{A:()=>x});s(65043);var t=s(68903),n=s(85865),i=s(22698),r=s(88446),l=s(96446),o=s(35475);const d=s.p+"static/media/ChatBc.a9e64b961d26acf719b8.png";var c=s(14536),h=s(70579);const x=e=>{let{subtitle:a,items:s,title:x,children:j}=e;return(0,h.jsxs)(t.Ay,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,h.jsxs)(t.Ay,{item:!0,xs:12,sm:6,lg:8,mb:1,children:[(0,h.jsx)(n.A,{variant:"h4",children:x}),(0,h.jsx)(n.A,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:a}),(0,h.jsx)(i.A,{separator:(0,h.jsx)(c.ABt,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:s?"10px":""},"aria-label":"breadcrumb",children:s?s.map((e=>(0,h.jsx)("div",{children:e.to?(0,h.jsx)(r.A,{underline:"none",color:"inherit",component:o.k2,to:e.to,children:e.title}):(0,h.jsx)(n.A,{color:"textPrimary",children:e.title})},e.title))):""})]}),(0,h.jsx)(t.Ay,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,h.jsx)(l.A,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:j?(0,h.jsx)(l.A,{sx:{top:"0px",position:"absolute"},children:j}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.A,{sx:{top:"0px",position:"absolute"},children:(0,h.jsx)("img",{src:d,alt:d,width:"165px"})})})})})]})}},33211:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(40854);const n=s.n(t)().create({baseURL:"http://localhost:4000",timeout:1e4});n.interceptors.request.use((e=>{const a=localStorage.getItem("accessToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(localStorage.removeItem("accessToken"),window.location.href="/auth/login"),Promise.reject(e))));const i=n},117:(e,a,s)=>{s.r(a),s.d(a,{default:()=>M});var t=s(65043),n=s(33211),i=s(73216),r=s(14194),l=s(96446),o=s(15795),d=s(11906),c=s(26227),h=s(41503),x=s(85865),j=s(29347),m=s(14536),A=s(55922),p=s(70579);const g=[{to:"/dashboard",title:"Dashboard"},{title:"Data Kelas"}],u=()=>(0,p.jsx)(A.A,{title:"Data Kelas",items:g});var b=s(42231),k=s(29101),C=s(63336),v=s(79650),f=s(71806),w=s(84882),y=s(28076),P=s(10039),S=s(73460),I=s(77739),D=s(17392),z=s(207),K=s(89735),R=s(59156);const T=e=>{let{kelas:a,page:s,rowsPerPage:t,handleChangePage:n,handleChangeRowsPerPage:i,handleEdit:r,handleDetail:o,handleDelete:d}=e;const c=s>0?Math.max(0,(1+s)*t-a.length):0;return(0,p.jsx)(C.A,{variant:"outlined",children:(0,p.jsx)(v.A,{children:(0,p.jsxs)(f.A,{"aria-label":"custom pagination table",sx:{whiteSpace:"nowrap"},children:[(0,p.jsx)(w.A,{children:(0,p.jsxs)(y.A,{children:[(0,p.jsx)(P.A,{children:(0,p.jsx)(x.A,{variant:"h6",sx:{fontSize:"1rem"},children:"No"})}),(0,p.jsx)(P.A,{align:"center",children:(0,p.jsx)(x.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Nama Kelas"})}),(0,p.jsx)(P.A,{align:"center",children:(0,p.jsx)(x.A,{variant:"h6",sx:{fontSize:"1rem"},children:"Aksi"})})]})}),(0,p.jsxs)(S.A,{children:[(t>0?a.slice(s*t,s*t+t):a).map(((e,a)=>(0,p.jsxs)(y.A,{children:[(0,p.jsx)(P.A,{children:(0,p.jsx)(x.A,{sx:{fontSize:"1rem"},children:s*t+a+1})}),(0,p.jsx)(P.A,{align:"center",children:(0,p.jsx)(x.A,{sx:{fontSize:"1rem"},children:e.nama_kelas})}),(0,p.jsx)(P.A,{children:(0,p.jsxs)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:[(0,p.jsx)(I.A,{title:"Lihat",placement:"bottom",children:(0,p.jsx)(D.A,{onClick:()=>o(e.id),children:(0,p.jsx)(m.HvQ,{width:20})})}),(0,p.jsx)(I.A,{title:"Edit",placement:"bottom",children:(0,p.jsx)(D.A,{onClick:()=>r(e.id),children:(0,p.jsx)(m.r9C,{width:20})})}),(0,p.jsx)(I.A,{title:"Hapus",placement:"bottom",children:(0,p.jsx)(D.A,{onClick:()=>d(e.id),children:(0,p.jsx)(m.Eau,{width:20})})})]})})]},e.id))),c>0&&(0,p.jsx)(y.A,{style:{height:53*c},children:(0,p.jsx)(P.A,{colSpan:3})})]}),(0,p.jsx)(z.A,{children:(0,p.jsx)(y.A,{children:(0,p.jsx)(K.A,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:a.length,rowsPerPage:t,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:n,onRowsPerPageChange:i,ActionsComponent:R.A})})})]})})})},M=()=>{const[e,a]=(0,t.useState)(0),[s,A]=(0,t.useState)(5),[g,C]=(0,t.useState)([]),[v,f]=(0,t.useState)(""),[w,y]=(0,t.useState)(""),[P,S]=(0,t.useState)(null),[I,D]=(0,t.useState)(!1),z=(0,i.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=await n.A.get("/kelas");C(e.data)}catch(w){w.response&&w.response.data&&w.response.data.msg?(console.log(w.response.data),y(w.response.data.msg)):(console.error("Terjadi kesalahan:",w.message),y("Terjadi kesalahan saat memuat data"))}})()}),[]);const K=g.filter((e=>e.nama_kelas.toLowerCase().includes(v.toLowerCase()))).sort(((e,a)=>e.nama_kelas.localeCompare(a.nama_kelas))),R=()=>{D(!1)},M=e=>{let{message:a}=e;return(0,p.jsx)(r.A,{severity:"error",children:a})};return(0,p.jsxs)(b.A,{title:"Data Kelas",description:"Data Kelas",children:[(0,p.jsx)(u,{}),(0,p.jsx)(l.A,{justifyContent:"center",mb:5,children:w&&(0,p.jsx)(M,{message:w})}),(0,p.jsxs)(k.A,{title:"Data Kelas",children:[(0,p.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,p.jsx)(o.A,{label:"Search",variant:"outlined",value:v,onChange:e=>{f(e.target.value)},InputProps:{sx:{padding:"4px"}},sx:{flexGrow:0,marginRight:2}}),(0,p.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,p.jsx)(m.uID,{}),onClick:()=>{z("/dashboard/admin/kelas/tambah-kelas")},children:"Tambah Kelas"})]}),(0,p.jsx)(T,{kelas:K,page:e,rowsPerPage:s,handleChangePage:(e,s)=>{a(s)},handleChangeRowsPerPage:e=>{A(parseInt(e.target.value,10)),a(0)},handleEdit:e=>{z("/dashboard/admin/kelas/edit/".concat(e))},handleDetail:()=>{z("/dashboard/admin/kelas/KelasId")},handleDelete:e=>{S(e),D(!0)}})]}),(0,p.jsxs)(c.A,{open:I,onClose:R,maxWidth:"sm",fullWidth:!0,children:[(0,p.jsx)(h.A,{children:(0,p.jsx)(x.A,{variant:"h5",align:"center",sx:{mt:2,mb:2},children:"Apakah Anda yakin ingin menghapus nama kelas?. Menghapus nama kelas akan menghapus data siswa yang ada dikelas tersebut"})}),(0,p.jsxs)(j.A,{sx:{justifyContent:"center",mb:2},children:[(0,p.jsx)(d.A,{sx:{mr:3},variant:"outlined",color:"secondary",onClick:R,children:"Batal"}),(0,p.jsx)(d.A,{sx:{mr:3,backgroundColor:"#F48C06","&:hover":{backgroundColor:"#f7a944"}},variant:"contained",onClick:()=>(async e=>{try{await n.A.delete("/kelas/".concat(e)),C(g.filter((a=>a.id!==e))),D(!1)}catch(w){console.error("Terjadi kesalahan saat menghapus data kelas:",w.message),y("Terjadi kesalahan saat menghapus data kelas")}})(P),children:"Hapus"})]})]})]})}}}]);
//# sourceMappingURL=1318.e7795263.chunk.js.map